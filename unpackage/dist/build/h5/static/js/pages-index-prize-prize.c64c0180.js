(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-prize-prize"],{"0c2a":function(t,e,i){"use strict";var a=i("4996"),n=i.n(a);n.a},"193a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.prize[data-v-358a9cec]{width:100%;height:100vh}.prize .prize_content[data-v-358a9cec]{width:100%;padding:10px 0 0 10px}.prize .prize_content .prize_tell[data-v-358a9cec]{position:absolute;top:10px;left:10px}.prize .prize_content .prize_tell uni-image[data-v-358a9cec]{width:60px;height:25px}.prize .prize_content .prize_start[data-v-358a9cec]{width:140px;height:60px;background-color:initial;position:relative;bottom:4%;left:50%;margin:-70px}.prize .luck[data-v-358a9cec]{width:100%;height:100vh;position:fixed;top:0;left:0;background:rgba(0,0,0,.3)}.prize .luck .luck_img[data-v-358a9cec]{position:absolute;top:47%;left:50%;margin:-240px 0 0 -166px}.prize .luck .luck_img uni-image[data-v-358a9cec]{width:316px;height:430px}.prize .luck .luck_img .luck_text[data-v-358a9cec]{width:100%;color:#fff;text-align:center;font-weight:550;position:absolute;top:47%;left:0}.prize .luck .luck_img .luck_text uni-text[data-v-358a9cec]{font-size:1.4rem;color:#fce524}.prize .luck .luck_img .luck_text uni-view[data-v-358a9cec]{font-size:1rem;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.prize .luck .luck_img .luck_text uni-image[data-v-358a9cec]{width:50px;height:50px}.prize .luck .luck_img .luck_back[data-v-358a9cec]{width:100%;color:#e30505;text-align:center;font-weight:550;position:absolute;bottom:16%;line-height:48px;left:0;font-size:1.2rem}.prize .luck .luck_img .close[data-v-358a9cec]{width:30px;height:30px;position:absolute;top:36%;right:7px}.prize .luck .luck_img .close uni-image[data-v-358a9cec]{width:10px;height:100px}.prize .luck .noluck_img[data-v-358a9cec]{position:absolute;top:50%;left:50%;margin:-240px 0 0 -166px}.prize .luck .noluck_img uni-image[data-v-358a9cec]{width:316px;height:430px}.prize .luck .noluck_img .noluck_text[data-v-358a9cec]{width:100%;color:#fff;text-align:center;font-weight:550;position:absolute;top:40%;left:0}.prize .luck .noluck_img .noluck_text uni-view[data-v-358a9cec]{font-size:1.4rem}.prize .luck .noluck_img .noluck_text uni-text[data-v-358a9cec]{font-size:1rem}.prize .luck .noluck_img .noluck_back[data-v-358a9cec]{width:100%;color:#e30505;text-align:center;font-weight:550;position:absolute;bottom:19%;line-height:48px;left:0;font-size:1.2rem}.prize .luck .noluck_img .close[data-v-358a9cec]{width:30px;height:30px;position:absolute;top:32%;right:0}.container[data-v-358a9cec]{position:fixed;width:100%;height:100%;top:5vh;left:0}.frame_view[data-v-358a9cec]{position:absolute;top:216px;left:50%;margin-left:-137px;width:275px;height:216px;z-index:3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:15px}.frame_row[data-v-358a9cec]{width:254px;height:88px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.frame_item[data-v-358a9cec]{width:82px;height:73px;background:rgba(0,0,0,.1);z-index:9}.frame_item>uni-view[data-v-358a9cec]{display:block;width:100%;font-size:%?30?%;color:#fff;z-index:99;text-align:center}.prize_img uni-image[data-v-358a9cec]{width:58px;height:50px}.frame_item>uni-view.title[data-v-358a9cec]{line-height:%?30?%;padding-top:%?40?%}.changan[data-v-358a9cec]{background-color:#4e75e2}.changan uni-image[data-v-358a9cec]{width:58px;height:50px}',""])},"3da1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("c1f8"),n={playPrize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.success,i=t.fail,n=t.complete;a.http.post("app/user/draw_prize",{},{success:function(t){e&&e(t)},fail:function(t){i&&i(t)},complete:function(t){n&&n(t)}})},getPrize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.realname,i=t.mobile,n=t.address,c=t.success,o=t.fail,s=t.complete;a.http.post("app/user/save_prize",{realname:e,mobile:i,address:n},{success:function(t){c&&c(t)},fail:function(t){o&&o(t)},complete:function(t){s&&s(t)}})}};e.default=n},4996:function(t,e,i){var a=i("193a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4d83f92c",a,!0,{sourceMap:!1,shadowMode:!1})},"609b":function(t,e,i){"use strict";i.r(e);var a=i("6f84"),n=i.n(a);for(var c in a)"default"!==c&&function(t){i.d(e,t,function(){return a[t]})}(c);e["default"]=n.a},"6f84":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n=a(i("8a3a")),c=a(i("3da1")),o=a(i("2ced")),s=null,l=80,r={components:{music:o.default},data:function(){return{luck:!1,noluck:!1,prizeType:"",title:"",color:[{opa:.9,name:"iPad"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"},{opa:.9,name:"再接再厉"}],images:["../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png","../../../static/img.prize1.png"],btnconfirm:"../../static/sherpa-jiugonggedianjichoujiang.png",clickLuck:"clickLuck",luckPosition:0,pause:""}},onLoad:function(){this.getUSerinfo(),uni.hideLoading(),this.pause=this.music.paused},methods:{getUSerinfo:function(t){var e=this;n.default.getUserinfo({success:function(t){console.log(t),200==t.statusCode&&0==t.data.code&&(e.graphId=t.data.data.graphId,uni.setStorage({key:"userInfo",data:t.data}))},fail:function(t){console.log(t)},complete:function(t){console.log(t)}})},goRule:function(){uni.navigateTo({url:"prizeRule"})},prizeGame:function(){var t=this;this.clickLucks(),c.default.playPrize({success:function(e){console.log(e),200==e.statusCode&&0==e.data.code?(t.title=e.data.prize.title,2==e.data.prize.id?t.luckPosition=7:3==e.data.prize.id?t.luckPosition=1:t.luckPosition=0):uni.showToast({title:e.data.msg,icon:"none",duration:3e3})},fail:function(t){console.log(t)},complete:function(t){console.log(t)}})},bacgGame:function(){this.$router.push({name:"sharePoster",params:{havePoster:!0}})},gouserinfo:function(){uni.navigateTo({url:"../userinfo/userinfo"})},input:function(t){var e=Number(t.detail.value);this.luckPosition=e},clickLucks:function(){if("clickLuck"==this.clickLuck){var t=this;t.clickLuck="",clearInterval(s);var e=0;s=setInterval(function(){e>7?(e=0,t.color[7].opa=.5):0!=e&&(t.color[e-1].opa=.5),t.color[e].opa=1,e++},l);var i=2e3;setTimeout(function(){t.stop(t.luckPosition)},i)}},stop:function(t){var e=this;clearInterval(s);for(var i=-1,a=e.color,n=0;n<a.length;n++)1==a[n].opa&&(i=n);var c=i+1;e.stopLuck(t,c,l,10)},stopLuck:function(t,e,i,a){var n=this;setTimeout(function(){e>7?(e=0,n.color[7].opa=.5):0!=e&&(n.color[e-1].opa=.5),n.color[e].opa=1,i<400||e!=t?(a++,i+=a,e++,n.stopLuck(t,e,i,a)):setTimeout(function(){0==t?n.noluck=!0:(n.prizeType=n.luckPosition,n.luck=!0)},1e3)},i)},loadAnimation:function(){var t=this,e=0;null==s&&(s=setInterval(function(){e>7?(e=0,t.color[7].opa=.5):0!=e&&(t.color[e-1].opa=.5),t.color[e].opa=1,e++},1e3))}}};e.default=r},"7a61":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"prize"},[i("v-uni-view",{staticClass:"content_img"},[i("v-uni-image",{attrs:{src:"../../../static/img/luck.png",mode:""}})],1),i("v-uni-view",{staticClass:"prize_content"},[i("v-uni-view",{staticClass:"prize_tell",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goRule.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"../../../static/img/luck_tell.png",mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticStyle:{width:"100%",height:"530px",display:"inline-block",overflow:"hidden",position:"relative",top:"24px",left:"0"},attrs:{src:"../../../static/img/jiqi.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"frame_view"},[i("v-uni-view",{staticClass:"frame_row"},[i("v-uni-view",{staticClass:"frame_item frame_item0",style:{opacity:t.color[0].opa},attrs:{src:t.images[0]}}),i("v-uni-view",{staticClass:"frame_item frame_item1",style:{opacity:t.color[1].opa},attrs:{src:t.images[0]}}),i("v-uni-view",{staticClass:"frame_item frame_item2",style:{opacity:t.color[2].opa},attrs:{src:t.images[0]}})],1),i("v-uni-view",{staticClass:"frame_row"},[i("v-uni-view",{staticClass:"frame_item frame_item7",style:{opacity:t.color[7].opa},attrs:{src:t.images[0]}}),i("v-uni-view",{staticClass:"frame_item frame_item3",style:{opacity:t.color[3].opa},attrs:{src:t.images[0]}})],1),i("v-uni-view",{staticClass:"frame_row"},[i("v-uni-view",{staticClass:"frame_item frame_item6",style:{opacity:t.color[6].opa},attrs:{src:t.images[0]}}),i("v-uni-view",{staticClass:"frame_item frame_item5",style:{opacity:t.color[5].opa},attrs:{src:t.images[0]}}),i("v-uni-view",{staticClass:"frame_item frame_item4",style:{opacity:t.color[4].opa},attrs:{src:t.images[0]}})],1)],1),i("v-uni-view",{staticClass:"prize_start",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.prizeGame.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.noluck||t.luck,expression:"noluck || luck"}],staticClass:"luck"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.noluck,expression:"noluck"}],staticClass:"noluck_img"},[i("v-uni-image",{attrs:{src:"../../../static/img/no_prize.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"noluck_text"},[i("v-uni-view",[t._v("很遗憾")]),i("v-uni-text",[t._v("鲸喜擦肩而过~")])],1),i("v-uni-view",{staticClass:"noluck_back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bacgGame.apply(void 0,arguments)}}},[t._v("返回游戏")]),i("v-uni-view",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.noluck=!1}}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.luck,expression:"luck"}],staticClass:"luck_img"},[i("v-uni-image",{attrs:{src:"../../../static/img/luckly.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"luck_text"},[i("v-uni-text",[t._v("恭喜您中奖了！")]),i("v-uni-view",{staticClass:"flex"},[t._v("获得"+t._s(t.title)+"一个"),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:2==t.prizeType,expression:"prizeType == 2"}],attrs:{src:"../../../static/img/gift2.png",mode:"aspectFit"}}),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:3==t.prizeType,expression:"prizeType == 3"}],attrs:{src:"../../../static/img/gift3.png",mode:"aspectFit"}})],1)],1),i("v-uni-view",{staticClass:"luck_back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gouserinfo.apply(void 0,arguments)}}},[t._v("立即领取")]),i("v-uni-view",{staticClass:"close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.luck=!1}}})],1)],1),i("v-uni-view",{staticStyle:{position:"absolute",top:"35px",right:"5px"}},[i("music",{attrs:{pause:t.pause}})],1)],1)},c=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return c}),i.d(e,"a",function(){return a})},"8a3a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("c1f8"),n={getRanking:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.success,i=t.fail,n=t.complete;a.http.post("app/graph/like_count",{},{success:function(t){e&&e(t)},fail:function(t){i&&i(t)},complete:function(t){n&&n(t)}})},userVote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.graphId,i=t.success,n=t.fail,c=t.complete;a.http.get("app/graph/vote",{params:{graphId:e},success:function(t){i&&i(t)},fail:function(t){n&&n(t)},complete:function(t){c&&c(t)}})},getUserinfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.success,i=t.fail,n=t.complete;a.http.post("app/user/queryUserInfo",{},{success:function(t){e&&e(t)},fail:function(t){i&&i(t)},complete:function(t){n&&n(t)}})},getAllinfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.graphId,i=t.success,n=t.fail,c=t.complete;a.http.get("app/graph/query_graph",{params:{graphId:e},success:function(t){i&&i(t)},fail:function(t){n&&n(t)},complete:function(t){c&&c(t)}})}};e.default=n},b3e2:function(t,e,i){"use strict";i.r(e);var a=i("7a61"),n=i("609b");for(var c in n)"default"!==c&&function(t){i.d(e,t,function(){return n[t]})}(c);i("0c2a");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"358a9cec",null,!1,a["a"],o);e["default"]=l.exports}}]);